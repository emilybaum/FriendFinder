<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/styles.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery.js"></script>

    <title>FF Survey</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <h1>Survey Quesitons</h1>
                <hr>

                <!-- <form>
                    <div class="individual-question">
                        <h3>Question 1</h3>
                        <div>
                            <p>Enter quesiton here....................</p>
                        </div>
                        <div class="d-flex justify-content-between  agree-disagree">
                            <div class="d-flex">Strongly Disagree</div>
                            <div class="d-flex">Strongly Agree</div>
                        </div>
                        <input type="range" class="custom-range" min="0" max="5" id="customRange2">
                    </div>

                    <button type="submit" class="btn btn-primary">Submit</button>
                </form> -->

                <div class="panel-body">
                    <form role="form">
                        
                        <div class="form-group">
                            <label for="user-name">Your Name</label>
                            <input id="name" type="text" class="form-control" id="user-name" placeholder="Enter your name">
                        </div>

                        <div class="form-group">
                            <label for="user-photo">Your Name</label>
                            <input id="photo" type="text" class="form-control" id="user-photo" placeholder="Include a link to a photo">
                        </div>

                        <div class="form-group">
                            <label for="">Question 1</label>
                            <p>Enter quesiton here....................</p>
                            <!-- <input type="text" class="form-control" id="reserve_phone"> -->
                            <select id="q0" class="form-control">
                                <option class="q0" value="1">Strongly Disagree</option>
                                <option class="q0" value="2">Disagree</option>
                                <option class="q0" value="3">Neutral</option>
                                <option class="q0" value="4">Agree</option>
                                <option class="q0" value="5">Strongly Agree</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="">Question 2</label>
                            <p>Enter quesiton here....................</p>
                            <!-- <input type="text" class="form-control" id="reserve_phone"> -->
                            <select id="q1" class="form-control">
                                <option class="q1" value="1">Strongly Disagree</option>
                                <option class="q1" value="2">Disagree</option>
                                <option class="q1" value="3">Neutral</option>
                                <option class="q1" value="4">Agree</option>
                                <option class="q1" value="5">Strongly Agree</option>
                            </select>
                        </div>
                
                        <div class="form-group">
                            <label for="">Question 3</label>
                            <p>Enter quesiton here....................</p>
                            <!-- <input type="text" class="form-control" id="reserve_phone"> -->
                            <select id="q2" class="form-control">
                                <option class="q2" value="1">Strongly Disagree</option>
                                <option class="q2" value="2">Disagree</option>
                                <option class="q2" value="3">Neutral</option>
                                <option class="q2" value="4">Agree</option>
                                <option class="q2" value="5">Strongly Agree</option>
                            </select>
                        </div>
                
                        <button id="surveySubmit" type="submit" class="btn btn-primary submit">Submit</button>
                    </form>
                </div>


            </div> <!-- end of form column-->
        </div> <!-- end of form row-->


    <a href="#">Link to friends API</a>


    </div> <!-- End of main container-->
    


    <!-- Bootstrap scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- <script type="text/javascript" src="../../server.js"></script> -->
    <!-- <script type="text/javascript" src="../data/friends.js"></script> -->

<script type="text/javascript">
    $("#surveySubmit").on("click", function () {
        event.preventDefault();

        var surveyAnswers = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: [
                $("#q0 :selected").val(),
                $("#q1 :selected").val(),
                $("#q2 :selected").val(),
                // $("#q3 :selected").val(),
                // $("#q4 :selected").val(),
                // $("#q5 :selected").val(),
                // $("#q6 :selected").val(),
                // $("#q7 :selected").val(),
                // $("#q8 :selected").val(),
                // $("#q9 :selected").val(),
            ]
        }

        stringArrToNumbers(surveyAnswers.scores);

        function stringArrToNumbers (arr) {
            arr.map(function (item) {
                return parseInt(item, 10);
        })

        console.log(surveyAnswers);

        pushToScoresArr(surveyAnswers);

        function pushToScoresArr(surveyAnswers) {
            var scores = surveyAnswers.scores
            var scoreArray = [];
            for (var i = 0; i < scores.length; i++) {
                var eachScore = scores[i];
                console.log(eachScore)
                scoreArray.push(eachScore);
            }
            console.log(scoreArray);
        }

// ----------------------------------------------
// POST
        var currentURL = window.location.origin;

        $.post(currentURL + "/api/friends", surveyAnswers,
            
            function (data) {

                console.log(data);
                
        });
// ----------------------------------------------


    }) // end button click

</script>
</body>
</html>